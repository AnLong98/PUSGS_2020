
<div class="container-fluid p-3 m-1">
    <div class="row" >
        <div class="container rounded bg-white mt-5">
            
            <form [formGroup]="editUserForm" (ngSubmit)="saveChanges()" class="col-md-12">
            <div class="row">
               
                    <div class="col-md-4 border-right">
                        <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                            
                            <img #avatar class="rounded-circle mt-5" alt="..."  src="../../assets/Images/Person.jpg" *ngIf="imagePreview == '' " width="90">
                            <img #avatar [src]="imagePreview" alt="..." class="rounded-circle registration_image" *ngIf="imagePreview != '' ">
                            <div class="row">
                                <div class="col-md-12">
                                    <input type="file"  accept="image/*" (change)="onSelectImage($event)"/>
                                </div>
                            </div>

                            <div class="account-status-div" *ngIf="accountStatus == 'APPROVED'">
                                <mat-icon class="icon-approved" [inline]="true">check_circle</mat-icon>&nbsp;&nbsp; Approved account
                            </div>

                            <div class="account-status-div" *ngIf="accountStatus == 'DENIED'">
                                <mat-icon class="icon-rejected" [inline]="true">cancel</mat-icon>&nbsp;&nbsp; Rejected account
                            </div>

                            <div class="account-status-div" *ngIf="accountStatus == 'PENDING'">
                                <mat-icon class="icon-under-process" [inline]="true">warning</mat-icon>&nbsp;&nbsp; Account under process
                            </div>

                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="p-3 py-5">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h2 class="text-right">Edit Profile</h2>
                            </div>

                            <div class="row mt-2">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <mat-label>First Name</mat-label>
                                        <input matInput [value]='user.name' formControlName="name">
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <mat-label>Last Name</mat-label>
                                        <input matInput formControlName="lastname" [value]="user.lastname">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <mat-label>Username</mat-label>
                                        <input matInput formControlName="username" [value]="user.username">
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <mat-label>Email</mat-label>
                                        <input matInput formControlName="email" [value]="user.email">
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <mat-form-field [hidden] = "user.userType === 'ADMIN'" class="example-full-width" appearance="fill">
                                        <mat-label>Role</mat-label>
                                        <mat-select formControlName="role">
                                            <mat-option value="CREW_MEMBER">Crew member</mat-option>
                                            <mat-option value="DISPATCHER">Dispatcher</mat-option>
                                            <mat-option value="WORKER">Worker</mat-option>
                                            <mat-option value="CONSUMER">Consumer</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="save-button">
                                <button class="button-add">Save Changes</button>                       
                            </div>

                        </div>
                    </div>
            </div>
        </form>
        </div>
    </div>
</div>